function TrinityMobile(){"use strict";this.newsResponse=function(args,trinityNewsXML){var i=0,tcCurrentTheme=$("div").attr("data-theme")||"a",tcNewsDateLI="",tcNewsItems=trinityNewsXML.getElementsByTagName("item"),tcNewsItemDate="",tcNewsItemDateOrig="",tcNewsItemLink="",tcNewsItemTitle="",tcNewsLength=tcNewsItems.length,tcNewsLinkLI="",tcNewsUL=document.getElementById("tcNews-ul");args=null;for(i=0;i<tcNewsLength;i++){tcNewsItemTitle=tcNewsItems[i].getElementsByTagName("title")[0].firstChild.nodeValue;tcNewsItemLink=tcNewsItems[i].getElementsByTagName("link")[0].firstChild.nodeValue;tcNewsItemDateOrig=tcNewsItems[i].getElementsByTagName("pubDate")[0].firstChild.nodeValue;tcNewsItemDate=tcNewsItemDateOrig.replace(/\s\d\d[:]\d\d[:]\d\d\s.+/,"");tcNewsDateLI=document.createElement("li");tcNewsUL.appendChild(tcNewsDateLI);tcNewsDateLI.setAttribute("data-role","list-divider");tcNewsDateLI.setAttribute("data-theme",tcCurrentTheme);tcNewsDateLI.innerHTML=tcNewsItemDate;tcNewsLinkLI=document.createElement("li");tcNewsUL.appendChild(tcNewsLinkLI);tcNewsLinkLI.setAttribute("id","news-item-link"+i);tcNewsLinkLI.setAttribute("data-theme",tcCurrentTheme);tcNewsLinkLI.setAttribute("style","padding-left: 5px");tcNewsLinkLI.innerHTML="<p><a href=\""+tcNewsItemLink+"\" style=\"white-space: normal; color: blue;"+" text-decoration: none\">"+tcNewsItemTitle+"</a></p>"}return true};this.blogResponse=function(args,trinityBlogXML){var i=0,tcBlogItem="",tcBlogItems=trinityBlogXML.getElementsByTagName("item"),tcBlogItemDate="",tcBlogItemDateOrig="",tcBlogItemLink="",tcBlogItemTitle="",tcBlogItemTitleOrig="",tcBlogUL=document.getElementById("tcBlog-ul");args=null;for(i=0;i<10;i++){tcBlogItemTitleOrig=tcBlogItems[i].getElementsByTagName("title")[0].firstChild.nodeValue;tcBlogItemTitle=tcBlogItemTitleOrig.replace(/style=\"[a-zA-Z0-9\-\:\;\s]+\"/gi,"");tcBlogItemLink=tcBlogItems[i].getElementsByTagName("link")[0].firstChild.nodeValue;tcBlogItemDateOrig=tcBlogItems[i].getElementsByTagName("pubDate")[0].firstChild.nodeValue;tcBlogItemDate=tcBlogItemDateOrig.replace(/\s\d\d[:]\d\d[:]\d\d\s.+/,"");tcBlogItem=document.createElement("h3");tcBlogUL.appendChild(tcBlogItem);tcBlogItem.innerHTML=tcBlogItemDate+"<br/><a href=\""+tcBlogItemLink+"\" style=\"font-size: small; "+"padding:0 0 0 2px; white-space: normal;\">"+tcBlogItemTitle+"</a>"}return true};this.twitterResponse=function(args,trinityTwitterXML){var i=0,newStatusLinks="",statusLinks="",tcCurrentTheme=$("div").attr("data-theme")||"a",tcStatus="",tcStatusDate="",tcStatusDateOrig="",tcStatuses=trinityTwitterXML.getElementsByTagName("item"),tcStatusLength=tcStatuses.length,tcStatusURL="",tcTweetFrom="",tcTwitterLI="",tcTwitterStatus="",tcTwitterStatusOrig="",tcTwitterUL=document.getElementById("tcTwitter-ul");args=null;for(i=0;i<tcStatusLength;i++){tcStatus=tcStatuses[i];tcTwitterStatusOrig=tcStatus.getElementsByTagName("description")[0].firstChild.nodeValue;statusLinks=tcTwitterStatusOrig.match(/http:\/\/\b.\S+/);newStatusLinks="<a href=\""+statusLinks+"\" style=\"color: blue\">"+statusLinks+"</a>";tcTwitterStatus=tcTwitterStatusOrig.replace(statusLinks,newStatusLinks);tcStatusDateOrig=tcStatus.getElementsByTagName("pubDate")[0].firstChild.nodeValue;tcStatusDate=tcStatusDateOrig.replace(/[+]\d\d\d\d/,' ');tcStatusURL=tcStatus.getElementsByTagName("link")[0].firstChild.nodeValue;tcTweetFrom=tcStatus.getElementsByTagName("source")[0].firstChild.nodeValue;tcTwitterLI=document.createElement("li");tcTwitterUL.appendChild(tcTwitterLI);tcTwitterLI.setAttribute("data-theme",tcCurrentTheme);tcTwitterLI.setAttribute("data-icon","false");tcTwitterLI.innerHTML="<p style=\"white-space: normal;\">"+tcTwitterStatus;tcTwitterLI.innerHTML+="</p><span style=\"font-size: x-small\">"+tcStatusDate+" via "+tcTweetFrom+"</span>"}return true};this.facebookResponse=function(args,trinityFacebookXML){var i=0,tcEntry="",tcFacebookBy="",tcFacebookByName="",tcFacebookContent="",tcFacebookDate="",tcFacebookDateOrig="",tcFacebookDateMod="",tcFacebookDateMod2="",tcFacebookDateMod3="",tcFacebookDateMod4="",tcFacebookDateMod5="",tcFacebookDateMod6="",tcFacebookDateMod7="",tcFacebookDateTime="",tcFacebookDiv=document.getElementById("tcFacebook"),tcFacebookEntries=trinityFacebookXML.getElementsByTagName("entry"),tcFacebookLength=tcFacebookEntries.length,tcFacebookLink="",tcFacebookTitle="";args=null;for(i=0;i<tcFacebookLength;i++){tcEntry=tcFacebookEntries[i];tcFacebookTitle=tcEntry.getElementsByTagName("title")[0].firstChild.nodeValue;tcFacebookLink=tcEntry.getElementsByTagName("link")[0].getAttribute("href");tcFacebookDateOrig=tcEntry.getElementsByTagName("published")[0].firstChild.nodeValue;tcFacebookDateMod=tcFacebookDateOrig.replace(/\+\d*\D\d*/,'');tcFacebookDateMod2=tcFacebookDateMod.replace(/T/,' ');tcFacebookDateMod3=tcFacebookDateMod2.replace(/:\d\d$/,'');tcFacebookDateTime=tcFacebookDateMod3.match(/\d\d:\d\d/);tcFacebookDateMod4=tcFacebookDateMod3.replace(/\s\d\d:\d\d/,'');tcFacebookDateYear=tcFacebookDateMod4.match(/^\d\d\d\d-/);tcFacebookDateMod5=tcFacebookDateMod4.replace(/\d\d\d\d-/,'');tcFacebookDateMod6=tcFacebookDateMod5+'-'+tcFacebookDateYear;tcFacebookDateMod7=tcFacebookDateMod6.replace(/-$/,'');tcFacebookDate=tcFacebookDateMod7+' '+tcFacebookDateTime;tcFacebookBy=tcEntry.getElementsByTagName("author")[0];tcFacebookByName=tcFacebookBy.getElementsByTagName("name")[0].firstChild.nodeValue;tcFacebookContent=tcEntry.getElementsByTagName("content")[0].firstChild.nodeValue;tcFacebookDiv.innerHTML+="<p style=\"font-size:large;"+"font-weight:bold\">";tcFacebookDiv.innerHTML+=tcFacebookDate+"</p><br/>";tcFacebookDiv.innerHTML+=tcFacebookContent+"<br/>";tcFacebookDiv.innerHTML+="<p style=\"font-size: x-small\">";tcFacebookDiv.innerHTML+="Posted by "+tcFacebookByName+"<br/><br/>";tcFacebookDiv.innerHTML+="<a href='"+tcFacebookLink+"'>"+tcFacebookLink+"</a>";tcFacebookDiv.innerHTML+="</p><hr style=\"color: black;\"/>"}return true};this.calendarResponse=function(args,trinityCalendarXML){var i=0,tcCalendar=document.getElementById("tcCalendar");tcCalendarItems=trinityCalendarXML.getElementsByTagName("item"),tcCalendarItemDesc="",tcCalendarItemLink="",tcCalendarLength=tcCalendarItems.length,tcCalendarLinkLI="",tcCurrentTheme=$("div").attr("data-theme")||"a";args=null;for(i=0;i<tcCalendarLength;i++){tcCalendarItemLink=tcCalendarItems[i].getElementsByTagName("link")[0].firstChild.nodeValue;tcCalendarItemDesc=tcCalendarItems[i].getElementsByTagName("description")[0].firstChild.nodeValue;tcCalendarP=document.createElement("p");tcCalendar.appendChild(tcCalendarP);tcCalendarP.setAttribute("id","Calendar-item-link"+i);tcCalendarP.setAttribute("data-theme",tcCurrentTheme);tcCalendarP.setAttribute("style","padding-left: 5px");tcCalendarP.innerHTML=tcCalendarItemDesc+"<a href=\""+tcCalendarItemLink+"\" style=\"white-space: normal; color: blue;"+" text-decoration: none\">"+"More Information"+"</a>"+"<hr/>"}return true};this.serviceTimesResponse=function(args,serviceTimesXML){var i=0,j=0,tcAllServices=serviceTimesXML.getElementsByTagName("service"),tcAllServicesLength=tcAllServices.length,tcAllSpecial=serviceTimesXML.getElementsByTagName("special"),tcLocation="",tcService="",tcServiceDayOrig="",tcServiceDay="",tcServiceTimesDiv=document.getElementById("tcServiceTimes"),tcSpecialLength=tcAllSpecial.length,tcSpecialLocation="",tcSpecialService="",tcSpecialServiceDay="",tcSpecialServiceDate="",tcSpecialTime="",tcSpecialType="",tcTime="",tcType="";args=null;for(i=0;i<tcSpecialLength;i++){tcSpecialService=tcAllSpecial[i];tcSpecialServiceDay=tcSpecialService.getElementsByTagName("day")[0].firstChild.nodeValue;tcSpecialServiceDate=tcSpecialService.getElementsByTagName("date")[0].firstChild.nodeValue;tcSpecialTime=tcSpecialService.getElementsByTagName("time")[0].firstChild.nodeValue;tcSpecialType=tcSpecialService.getElementsByTagName("servicetype")[0].firstChild.nodeValue;tcSpecialLocation=tcSpecialService.getElementsByTagName("location")[0].firstChild.nodeValue;tcServiceTimesDiv.innerHTML+="<h3 style='color: #0000cf'>"+tcSpecialServiceDay+" "+tcSpecialServiceDate+"</h3>";tcServiceTimesDiv.innerHTML+="<p>"+"<span style='font-weight: bold'>"+tcSpecialTime;tcServiceTimesDiv.innerHTML+="</span><br/>"+tcSpecialType+"<br/><br/>";tcServiceTimesDiv.innerHTML+="Location: "+tcSpecialLocation+"</p><hr/>"}for(j=0;j<tcAllServicesLength;j++){tcService=tcAllServices[j];tcServiceDayOrig=tcService.parentNode.nodeName;tcServiceDay=tcServiceDayOrig.substr(0,1).toUpperCase()+tcServiceDayOrig.substr(1);tcTime=tcService.getElementsByTagName("time")[0].firstChild.nodeValue;tcType=tcService.getElementsByTagName("servicetype")[0].firstChild.nodeValue;tcLocation=tcService.getElementsByTagName("location")[0].firstChild.nodeValue;tcServiceTimesDiv.innerHTML+="<h3>"+tcServiceDay+"</h3>";tcServiceTimesDiv.innerHTML+="<p>"+"<span style='font-weight: bold'>"+tcTime;tcServiceTimesDiv.innerHTML+="</span><br/>"+tcType+"<br/><br/>";tcServiceTimesDiv.innerHTML+="Location: "+tcLocation+"</p><hr/>"}return true}}var trinityMobile=new TrinityMobile();